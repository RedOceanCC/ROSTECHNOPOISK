# üöÄ –ü–û–õ–ù–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –î–ï–ü–õ–û–Æ –†–û–°–¢–ï–•–ù–û–ü–û–ò–°–ö –ß–ï–†–ï–ó WinSCP

## üìã –ù–ï–û–ë–•–û–î–ò–ú–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø –ü–ï–†–ï–ú–ï–ù–ù–´–• –û–ö–†–£–ñ–ï–ù–ò–Ø

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞:

1. **–í `.env.local`:**
   ```env
   SESSION_SECRET=–°–ì–ï–ù–ï–†–ò–†–£–ô–¢–ï_–°–ò–õ–¨–ù–´–ô_–ö–õ–Æ–ß_–°–õ–£–ß–ê–ô–ù–´–ô_64_–°–ò–ú–í–û–õ–ê
   TELEGRAM_WEBHOOK_URL=https://xn--e1aggkdcahelgf4b.xn--p1ai/api/telegram/webhook
   ```

2. **CORS —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è:**
   - `https://xn--e1aggkdcahelgf4b.xn--p1ai`
   - `https://—Ä–æ—Å—Ç–µ—Ö–Ω–æ–ø–æ–∏—Å–∫.—Ä—Ñ`
   - `http://xn--e1aggkdcahelgf4b.xn--p1ai`
   - `http://—Ä–æ—Å—Ç–µ—Ö–Ω–æ–ø–æ–∏—Å–∫.—Ä—Ñ`

3. **API_BASE_URL –≤–æ frontend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è:**
   - –õ–æ–∫–∞–ª—å–Ω–æ: `http://localhost:3001/api`
   - –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: `/api` (—á–µ—Ä–µ–∑ Nginx)

---

## üõ†Ô∏è –ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –î–ï–ü–õ–û–Æ

### –®–ê–ì 1: –ü–û–î–ì–û–¢–û–í–ö–ê –ù–ê –õ–û–ö–ê–õ–¨–ù–û–ô –ú–ê–®–ò–ù–ï

1. **–û—Ç–∫—Ä–æ–π—Ç–µ PowerShell –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞:**
   ```powershell
   cd D:\Project\Despair
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É production –≤–µ—Ä—Å–∏–∏:**
   ```powershell
   node prepare-production.js
   ```
   
   **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ–∑–¥–∞—Å—Ç—Å—è –ø–∞–ø–∫–∞ `production-ready/` —Å –≥–æ—Ç–æ–≤—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏.

3. **–°–æ–∑–¥–∞–π—Ç–µ ZIP –∞—Ä—Ö–∏–≤ –¥–ª—è —É–¥–æ–±–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏:**
   ```powershell
   # –ß–µ—Ä–µ–∑ PowerShell
   Compress-Archive -Path "production-ready\*" -DestinationPath "rostechnopolsk-production.zip"
   ```
   
   **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ:** –ß–µ—Ä–µ–∑ WinRAR/7-Zip —Å–æ–∑–¥–∞–π—Ç–µ –∞—Ä—Ö–∏–≤ `rostechnopolsk-production.zip` –∏–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –ø–∞–ø–∫–∏ `production-ready/`.

---

### –®–ê–ì 2: –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –ö –°–ï–†–í–ï–†–£ –ß–ï–†–ï–ó WinSCP

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ WinSCP**

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
   - **–ü—Ä–æ—Ç–æ–∫–æ–ª:** SFTP –∏–ª–∏ SCP
   - **–•–æ—Å—Ç:** IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
   - **–ü–æ—Ä—Ç:** 22 (–∏–ª–∏ –≤–∞—à SSH –ø–æ—Ä—Ç)
   - **–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** –≤–∞—à SSH –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
   - **–ü–∞—Ä–æ–ª—å:** –≤–∞—à SSH –ø–∞—Ä–æ–ª—å (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª—é—á–∏)

3. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É**

---

### –®–ê–ì 3: –ü–û–î–ì–û–¢–û–í–ö–ê –ü–ê–ü–ö–ò –ù–ê –°–ï–†–í–ï–†–ï

1. **–í WinSCP –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –¥–µ–ø–ª–æ—è:**
   ```
   /var/www/  # –î–ª—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–æ–≤
   ```
   **–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –¥–æ–º–∞—à–Ω—é—é –ø–∞–ø–∫—É:**
   ```
   /home/–≤–∞—à-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞:**
   - –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí "–°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É"
   - –ù–∞–∑–≤–∞–Ω–∏–µ: `rostechnopolsk`

3. **–í–æ–π–¥–∏—Ç–µ –≤ —Å–æ–∑–¥–∞–Ω–Ω—É—é –ø–∞–ø–∫—É:**
   ```
   /var/www/rostechnopolsk/
   ```

---

### –®–ê–ì 4: –ó–ê–ì–†–£–ó–ö–ê –§–ê–ô–õ–û–í –ß–ï–†–ï–ó WinSCP

1. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ ZIP –∞—Ä—Ö–∏–≤:**
   - –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (–ª–æ–∫–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞) –Ω–∞–π–¥–∏—Ç–µ `rostechnopolsk-production.zip`
   - –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª –≤ –ø—Ä–∞–≤—É—é –ø–∞–Ω–µ–ª—å (—Å–µ—Ä–≤–µ—Ä) –≤ –ø–∞–ø–∫—É `/var/www/rostechnopolsk/`

2. **–†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
   - –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–º ZIP —Ñ–∞–π–ª–µ
   - –í—ã–±–µ—Ä–∏—Ç–µ "–í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É" –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª (Ctrl+T)
   
   **–ö–æ–º–∞–Ω–¥—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ WinSCP:**
   ```bash
   cd /var/www/rostechnopolsk
   unzip rostechnopolsk-production.zip
   rm rostechnopolsk-production.zip
   ls -la  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
   ```

**–û–∂–∏–¥–∞–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```
/var/www/rostechnopolsk/
‚îú‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ app.js
‚îú‚îÄ‚îÄ style.css
‚îú‚îÄ‚îÄ notifications.js
‚îú‚îÄ‚îÄ validation.js
‚îú‚îÄ‚îÄ frontend-server.js
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ ecosystem.config.js
‚îú‚îÄ‚îÄ nginx.conf
‚îú‚îÄ‚îÄ Special_Equipment_Catalog.csv
‚îî‚îÄ‚îÄ backend/
    ‚îú‚îÄ‚îÄ package.json
    ‚îú‚îÄ‚îÄ config.env
    ‚îú‚îÄ‚îÄ server.js
    ‚îú‚îÄ‚îÄ database/
    ‚îú‚îÄ‚îÄ models/
    ‚îú‚îÄ‚îÄ routes/
    ‚îú‚îÄ‚îÄ services/
    ‚îú‚îÄ‚îÄ middleware/
    ‚îî‚îÄ‚îÄ utils/
```

---

### –®–ê–ì 5: –ù–ê–°–¢–†–û–ô–ö–ê –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ô –ù–ê –°–ï–†–í–ï–†–ï

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ WinSCP (Ctrl+T)**

2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞:**
   ```bash
   cd /var/www/rostechnopolsk
   ```

3. **–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–π SESSION_SECRET:**
   ```bash
   # –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–ª—É—á–∞–π–Ω—ã–π –∫–ª—é—á
   openssl rand -hex 32
   ```
   –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∫–ª—é—á.

4. **–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
   ```bash
   nano backend/config.env
   ```
   
   **–ò–∑–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:**
   ```env
   SESSION_SECRET=–í–ê–®_–°–ì–ï–ù–ï–†–ò–†–û–í–ê–ù–ù–´–ô_–ö–õ–Æ–ß_–ò–ó_–ü–†–ï–î–´–î–£–©–ï–ì–û_–®–ê–ì–ê
   ```
   
   **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å:** Ctrl+X ‚Üí Y ‚Üí Enter

5. **–û–±–Ω–æ–≤–∏—Ç–µ –ø—É—Ç–∏ –≤ PM2 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
   ```bash
   nano ecosystem.config.js
   ```
   
   **–ó–∞–º–µ–Ω–∏—Ç–µ –≤–µ–∑–¥–µ `/path/to/your/project` –Ω–∞:**
   ```javascript
   cwd: '/var/www/rostechnopolsk',
   ```
   
   **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å:** Ctrl+X ‚Üí Y ‚Üí Enter

---

### –®–ê–ì 6: –£–°–¢–ê–ù–û–í–ö–ê NODE.JS (–ï–°–õ–ò –ù–ï –£–°–¢–ê–ù–û–í–õ–ï–ù)

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Node.js:**
   ```bash
   node --version
   npm --version
   ```

2. **–ï—Å–ª–∏ Node.js –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –≤–µ—Ä—Å–∏—è < 14, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:**

   **Ubuntu/Debian:**
   ```bash
   curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
   sudo apt-get install -y nodejs
   ```

   **CentOS/RHEL/AlmaLinux:**
   ```bash
   curl -fsSL https://rpm.nodesource.com/setup_20.x | sudo bash -
   sudo yum install -y nodejs
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É:**
   ```bash
   node --version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 14.0.0
   npm --version   # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 6.0.0
   ```

---

### –®–ê–ì 7: –£–°–¢–ê–ù–û–í–ö–ê –ó–ê–í–ò–°–ò–ú–û–°–¢–ï–ô

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ backend –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   cd /var/www/rostechnopolsk/backend
   npm install --production
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–∞–∫–µ—Ç–æ–≤:**
   ```bash
   npm list bcryptjs  # –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
   npm list express   # –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
   npm list sqlite3   # –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
   ```

3. **–í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞:**
   ```bash
   cd /var/www/rostechnopolsk
   ```

---

### –®–ê–ì 8: –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ë–ê–ó–´ –î–ê–ù–ù–´–•

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –ë–î:**
   ```bash
   cd backend
   node database/init.js
   ```

   **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   ```
   ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞!
   ‚úÖ –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
   ‚úÖ –¢–∏–ø—ã —Ç–µ—Ö–Ω–∏–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ë–î —Å–æ–∑–¥–∞–ª–∞—Å—å:**
   ```bash
   ls -la database/rostechnopolsk.db
   ```

---

### –®–ê–ì 9: –¢–ï–°–¢–û–í–´–ô –ó–ê–ü–£–°–ö

1. **–¢–µ—Å—Ç backend:**
   ```bash
   cd /var/www/rostechnopolsk/backend
   node server.js
   ```
   
   **–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:**
   ```
   üöÄ Backend —Å–µ—Ä–≤–µ—Ä –†–û–°–¢–ï–•–ù–û–ü–û–ò–°–ö –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3001
   ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
   ‚è∞ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∞—É–∫—Ü–∏–æ–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω
   ```

2. **–í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ API:**
   ```bash
   curl http://localhost:3001/api/health
   ```
   
   **–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
   ```json
   {"status":"ok","timestamp":"2024-12-19T..."}
   ```

3. **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–µ—Å—Ç:** Ctrl+C –≤ –ø–µ—Ä–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

---

### –®–ê–ì 10: –£–°–¢–ê–ù–û–í–ö–ê PM2 –î–õ–Ø –ü–†–û–î–ê–ö–®–ï–ù–ê

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PM2 –≥–ª–æ–±–∞–ª—å–Ω–æ:**
   ```bash
   sudo npm install -g pm2
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –¥–ª—è –ª–æ–≥–æ–≤:**
   ```bash
   cd /var/www/rostechnopolsk
   mkdir -p logs
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ PM2:**
   ```bash
   pm2 start ecosystem.config.js
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:**
   ```bash
   pm2 status
   ```
   
   **–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
   ```
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ id  ‚îÇ name                     ‚îÇ status  ‚îÇ restart ‚îÇ uptime  ‚îÇ cpu      ‚îÇ
   ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
   ‚îÇ 0   ‚îÇ rostechnopolsk-backend   ‚îÇ online  ‚îÇ 0       ‚îÇ 5s      ‚îÇ 0%       ‚îÇ
   ‚îÇ 1   ‚îÇ rostechnopolsk-frontend  ‚îÇ online  ‚îÇ 0       ‚îÇ 5s      ‚îÇ 0%       ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
   ```

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```bash
   pm2 logs --lines 20
   ```

6. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é PM2:**
   ```bash
   pm2 save
   pm2 startup
   ```
   
   **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä—É—é –ø–æ–∫–∞–∂–µ—Ç `pm2 startup`**

---

### –®–ê–ì 11: –ù–ê–°–¢–†–û–ô–ö–ê NGINX (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Nginx:**

   **Ubuntu/Debian:**
   ```bash
   sudo apt update
   sudo apt install nginx
   ```

   **CentOS/RHEL:**
   ```bash
   sudo yum install nginx
   # –∏–ª–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π:
   sudo dnf install nginx
   ```

2. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
   ```bash
   sudo cp /var/www/rostechnopolsk/nginx.conf /etc/nginx/sites-available/rostechnopolsk
   ```

3. **–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Å–∞–π—Ç:**
   ```bash
   # Ubuntu/Debian
   sudo ln -s /etc/nginx/sites-available/rostechnopolsk /etc/nginx/sites-enabled/
   sudo rm /etc/nginx/sites-enabled/default
   
   # CentOS/RHEL
   sudo cp /var/www/rostechnopolsk/nginx.conf /etc/nginx/conf.d/rostechnopolsk.conf
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
   ```bash
   sudo nginx -t
   ```

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Nginx:**
   ```bash
   sudo systemctl restart nginx
   sudo systemctl enable nginx
   ```

---

### –®–ê–ì 12: –ù–ê–°–¢–†–û–ô–ö–ê FIREWALL

1. **Ubuntu/Debian (UFW):**
   ```bash
   sudo ufw allow 22     # SSH
   sudo ufw allow 80     # HTTP
   sudo ufw allow 443    # HTTPS
   sudo ufw enable
   ```

2. **CentOS/RHEL (firewalld):**
   ```bash
   sudo firewall-cmd --add-port=22/tcp --permanent    # SSH
   sudo firewall-cmd --add-port=80/tcp --permanent    # HTTP
   sudo firewall-cmd --add-port=443/tcp --permanent   # HTTPS
   sudo firewall-cmd --reload
   ```

---

### –®–ê–ì 13: –ù–ê–°–¢–†–û–ô–ö–ê SSL –°–ï–†–¢–ò–§–ò–ö–ê–¢–ê (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Certbot:**
   ```bash
   sudo snap install --classic certbot
   # –∏–ª–∏ —á–µ—Ä–µ–∑ –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä:
   # sudo apt install certbot python3-certbot-nginx  # Ubuntu/Debian
   ```

2. **–ü–æ–ª—É—á–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:**
   ```bash
   sudo certbot --nginx -d xn--e1aggkdcahelgf4b.xn--p1ai -d —Ä–æ—Å—Ç–µ—Ö–Ω–æ–ø–æ–∏—Å–∫.—Ä—Ñ
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**
   ```bash
   sudo crontab -e
   ```
   
   **–î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:**
   ```cron
   0 12 * * * /usr/bin/certbot renew --quiet
   ```

---

### –®–ê–ì 14: –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å—ã –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:**
   ```bash
   # PM2 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   pm2 status
   
   # Nginx
   sudo systemctl status nginx
   
   # –õ–æ–≥–∏
   pm2 logs --lines 10
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API:**
   ```bash
   # –õ–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   curl http://localhost:3001/api/health
   curl http://localhost:3000/
   
   # –ß–µ—Ä–µ–∑ –¥–æ–º–µ–Ω (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Nginx)
   curl http://xn--e1aggkdcahelgf4b.xn--p1ai/api/health
   curl -I http://xn--e1aggkdcahelgf4b.xn--p1ai/
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   - **–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø:** `http://IP-–°–ï–†–í–ï–†–ê:3000`
   - **–ß–µ—Ä–µ–∑ Nginx:** `http://xn--e1aggkdcahelgf4b.xn--p1ai`
   - **–° SSL:** `https://xn--e1aggkdcahelgf4b.xn--p1ai`

---

## üîë –¢–ï–°–¢–û–í–´–ï –ê–ö–ö–ê–£–ù–¢–´

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ –∞–∫–∫–∞—É–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:** `admin` / `admin123`
- **–ú–µ–Ω–µ–¥–∂–µ—Ä:** `manager123` / `manager123`
- **–í–ª–∞–¥–µ–ª–µ—Ü —Ç–µ—Ö–Ω–∏–∫–∏:** `owner123` / `owner123`

---

## üõ†Ô∏è –ö–û–ú–ê–ù–î–´ –£–ü–†–ê–í–õ–ï–ù–ò–Ø

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PM2:
```bash
pm2 restart all          # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
pm2 stop all            # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
pm2 start all           # –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
pm2 reload all          # –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ (zero-downtime)
pm2 logs               # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 logs --lines 50    # –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
pm2 monit              # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Nginx:
```bash
sudo systemctl status nginx     # –°—Ç–∞—Ç—É—Å
sudo systemctl restart nginx    # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl reload nginx     # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo nginx -t                   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```

### –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–æ–¥–∞:
```bash
# 1. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –ª–æ–∫–∞–ª—å–Ω–æ
node prepare-production.js

# 2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —á–µ—Ä–µ–∑ WinSCP –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
# 3. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
cd /var/www/rostechnopolsk
pm2 reload all                  # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
```

---

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–†–û–ë–õ–ï–ú

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
```bash
pm2 logs                        # –°–º–æ—Ç—Ä–∏–º –ª–æ–≥–∏
cat backend/config.env          # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cd backend && npm list          # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

### API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:
```bash
pm2 status                      # –°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
netstat -tlnp | grep :3001     # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Ä—Ç
pm2 logs rostechnopolsk-backend # –õ–æ–≥–∏ backend
```

### Frontend –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:
```bash
# –° Nginx:
sudo nginx -t
sudo systemctl status nginx

# –ë–µ–∑ Nginx:
pm2 logs rostechnopolsk-frontend
netstat -tlnp | grep :3000
```

### CORS –æ—à–∏–±–∫–∏:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –¥–æ–º–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ backend/server.js
grep -A 10 "cors(" backend/server.js

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ NODE_ENV=production
pm2 show rostechnopolsk-backend
```

---

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì

### –õ–æ–≥–∏:
```bash
# PM2 –ª–æ–≥–∏
pm2 logs

# –°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
tail -f /var/www/rostechnopolsk/logs/backend-combined.log

# Nginx –ª–æ–≥–∏
sudo tail -f /var/log/nginx/access.log
sudo tail -f /var/log/nginx/error.log
```

### –†–µ—Å—É—Ä—Å—ã:
```bash
# –ü–∞–º—è—Ç—å –∏ CPU
pm2 monit

# –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
df -h

# –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã
netstat -tlnp | grep -E ':(3000|3001|80|443)'
```

---

## ‚úÖ –ì–û–¢–û–í–û!

**üéâ –í–∞—à –ø—Ä–æ–µ–∫—Ç –†–û–°–¢–ï–•–ù–û–ü–û–ò–°–ö —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç!**

**üåê –î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ:**
- **Frontend:** `https://xn--e1aggkdcahelgf4b.xn--p1ai`
- **API:** `https://xn--e1aggkdcahelgf4b.xn--p1ai/api`

**üì± –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫ –Ω–∞ –∞—Ä–µ–Ω–¥—É
- ‚úÖ –ü–æ–¥–∞—á–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
- ‚úÖ –ê—É–∫—Ü–∏–æ–Ω—ã
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**üîÑ –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `node prepare-production.js` –ª–æ–∫–∞–ª—å–Ω–æ
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ WinSCP
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ `pm2 reload all` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**üìû –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `pm2 logs`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `pm2 status`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é: `cat backend/config.env`
