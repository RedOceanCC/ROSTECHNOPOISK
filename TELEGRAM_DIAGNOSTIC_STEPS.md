# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å Telegram WebApp

## üö® –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è
- ‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç: https://xn--e1aggkdcahelgf4b.xn--p1ai/api/health
- ‚ùå Telegram WebApp –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç: `/telegram/request.html` ‚Üí 404

## üìä –®–∞–≥–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### 1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `backend/server.js` –Ω–∞ —Å–µ—Ä–≤–µ—Ä
–§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–∞–ø–∫–∏ telegram-webapp

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
```bash
pm2 restart rostechnopoisk
# –∏–ª–∏
sudo systemctl restart rostechnopoisk
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É
–û—Ç–∫—Ä–æ–π—Ç–µ: **https://xn--e1aggkdcahelgf4b.xn--p1ai/api/telegram/debug**

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç:
- –¢–µ–∫—É—â—É—é —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å–µ—Ä–≤–µ—Ä–∞
- –ì–¥–µ —Å–µ—Ä–≤–µ—Ä –∏—â–µ—Ç –ø–∞–ø–∫—É telegram-webapp
- –°—É—â–µ—Å—Ç–≤—É—é—Ç –ª–∏ —Ñ–∞–π–ª—ã –≤ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—É—Ç—è—Ö

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
```bash
pm2 logs rostechnopoisk
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–∏–ø–∞:
```
ü§ñ Telegram WebApp –ø—É—Ç—å: /path/to/telegram-webapp
ü§ñ –§–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: true/false
‚úÖ Telegram WebApp –Ω–∞–π–¥–µ–Ω –≤: /correct/path
```

## üõ†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ü–∞–ø–∫–∞ –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ
**–°–∏–º–ø—Ç–æ–º:** –í –ª–æ–≥–∞—Ö `‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω –≤: ...` –¥–ª—è –≤—Å–µ—Ö –ø—É—Ç–µ–π

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–¥–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–∞–ø–∫–∞ `telegram-webapp`:
```bash
find /path/to/your/app -name "telegram-webapp" -type d
find /path/to/your/app -name "request.html" -type f
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
**–°–∏–º–ø—Ç–æ–º:** –ü–∞–ø–∫–∞ –Ω–∞–π–¥–µ–Ω–∞, –Ω–æ —Ñ–∞–π–ª—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∞:
```bash
chmod -R 755 telegram-webapp/
chown -R your-user:your-group telegram-webapp/
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –§–∞–π–ª –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
**–°–∏–º–ø—Ç–æ–º:** –ü–∞–ø–∫–∞ –µ—Å—Ç—å, –Ω–æ `request.html` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω:
```bash
ls -la telegram-webapp/
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å request.html
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è
**–°–∏–º–ø—Ç–æ–º:** –í—Å–µ –ø—É—Ç–∏ –≤ –ª–æ–≥–∞—Ö –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ

**–†–µ—à–µ–Ω–∏–µ:** –ù–∞ –æ—Å–Ω–æ–≤–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ `/api/telegram/debug` –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É

## üìÅ –û–∂–∏–¥–∞–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```
/path/to/your/app/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ server.js
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ ... (–¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã backend)
‚îú‚îÄ‚îÄ telegram-webapp/
‚îÇ   ‚îî‚îÄ‚îÄ request.html
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îî‚îÄ‚îÄ build/ (–µ—Å–ª–∏ –µ—Å—Ç—å)
‚îî‚îÄ‚îÄ production-config.env
```

## üîß –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–ï—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–∞–º–µ–Ω–∏—Ç–µ –≤ `server.js`:

```javascript
// –í–º–µ—Å—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞, —É–∫–∞–∂–∏—Ç–µ —Ç–æ—á–Ω—ã–π –ø—É—Ç—å
app.use('/telegram', express.static('/absolute/path/to/telegram-webapp'));
```

–ì–¥–µ `/absolute/path/to/telegram-webapp` - —ç—Ç–æ —Ç–æ—á–Ω—ã–π –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ.

## üìû –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

1. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π server.js**
2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä**
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ /api/telegram/debug**
4. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏**

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —è —Å–º–æ–≥—É —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥–¥–µ –ø—Ä–æ–±–ª–µ–º–∞ –∏ –∫–∞–∫ –µ—ë –∏—Å–ø—Ä–∞–≤–∏—Ç—å!

## üéØ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –≥–¥–µ –Ω–∞–π–¥–µ–Ω–∞ –ø–∞–ø–∫–∞ telegram-webapp
2. `/api/telegram/debug` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
3. `/telegram/request.html` –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
